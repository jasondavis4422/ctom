<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Collaborative Theory of Mind</title>
</head>
<body>
   
    <h1> Collaborative Theory of Mind Task</h1>
    <p> Welcome to the collaborative theory of mind task. In this experiment, you will be assessing the traits of the people 
        shown in images, videos of their stories, and your assessment with a peer. Sliders will be provided to give your rating.
        Before beginning the experiment, please enter your name and ID below into the subboxes. </p>
        <h4> Name:</h4>
        <input type = "text" id = "Name" name = "Name" size = "40">
        <h4> ID: </h4>
        <input type = "text" id = "ID" name = "ID" size = "40">
        <p> Thank you for inputing your information. Please press the next button to continue.  </p>
        <button type = "button" id = "button" class = "next-intro"> NEXT </button>
        <script> 
          var next_buttons = document.getElementsByClassName("next-intro");
          var input_name = document.getElementById("Name");
          var input_ID = document.getElementById("ID");
          const participant_set = [];
          class Participant
          {
            constructor()
            {
                this.name = "";
                this.ID = "";
            }
            updateName(newName)
            {
                this.name = newName;
            }
            updateID (newID)
            {
                this.ID = newID;
            }
          }
          for (var i = 0; i < next_buttons.length; i++)
          {
            var next_button = next_buttons[i];
            next_button.addEventListener('click', function()
            {
                const name = input_name.value;
                const ID = input_ID.value;
                if (name && ID)
                {
                    const subject = new Participant();
                    subject.updateName(name);
                    subject.updateID(ID);
                    participant_set.push(subject);
                    if(localStorage.getItem('participant_set') == null)
                    {
                        localStorage.setItem('participant_set', '[]');
                    }
                    var participants = JSON.parse(localStorage.getItem('participant_set'));
                    participants.push(subject);
                    localStorage.setItem('participant_set', JSON.stringify(participants));
                    location.reload();
                }
            }
            )
          }
        </script>
</body>
</html>